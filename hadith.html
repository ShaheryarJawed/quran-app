<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hadith Library - DeenSphere Pro ﷺ</title>
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <link
        href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Inter:wght@300;400;500;600;700&family=Outfit:wght@300;400;500;600;700&family=Playfair+Display:wght@400;600;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <style>
        /* Custom styles if not in style.css */
        .glass-header {
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
        }
    </style>
</head>

<body class="hadith-dark-theme">
    <!-- Navbar -->
    <!-- Navbar (Synced with Dashboard) -->
    <nav class="portal-nav">
        <div class="portal-container nav-flex">
            <!-- Brand -->
            <div class="nav-brand-portal">
                <i class='bx bxs-moon pulse-icon'></i>
                <span>DeenSphere <span style="font-weight:300; opacity:0.7;">Pro</span></span>
            </div>

            <!-- Links -->
            <div class="nav-links-portal">
                <a href="index.html" class="p-link">Dashboard</a>
                <a href="quran.html" class="p-link">Quran</a>
                <a href="hadith.html" class="p-link active">Hadith Library</a>
                <a href="seerah.html" class="p-link">Seerah</a>
                <a href="names.html" class="p-link">99 Names</a>
                <a href="tasbih.html" class="p-link">Tasbih</a>
                <a href="duas.html" class="p-link">Duas</a>
            </div>

            <!-- Profile/Actions -->
            <div id="header-actions-container" class="nav-actions-portal">
                <button class="icon-btn-portal"><i class='bx bx-search'></i></button>
                <button id="header-notif-btn" class="icon-btn-portal" style="display:none;"><i
                        class='bx bx-bell'></i></button>
                <div id="auth-container">
                    <button id="btn-signin" class="btn-portal-secondary"
                        style="color:white; border-color:rgba(255,255,255,0.3); padding:0.4rem 1.2rem; font-size:0.9rem;"
                        onclick="mockGoogleLogin()">
                        Sign In
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <main class="main-content">
        <!-- Hero Section -->
        <section class="hadith-hero-split container">
            <div class="hadith-hero-text">
                <div style="display:inline-flex; align-items:center; gap:0.5rem; margin-bottom:1rem;">
                    <span style="height:2px; width:30px; background:#fbbf24; border-radius:2px;"></span>
                    <span style="color:#fbbf24; letter-spacing:2px; font-size:0.8rem; font-weight:600;">HADITH
                        LIBRARY</span>
                </div>
                <h1 class="hadith-hero-title">Wisdom from<br>the Prophet <span
                        style="font-family:'Amiri', serif; font-weight:400; font-size:3rem; margin-left:0.3rem; color:#fbbf24;">ﷺ</span>
                </h1>
                <p class="hadith-hero-subtitle">Authentic collections of Sahih Bukhari, Muslim, and more.</p>

                <div class="hadith-search-dark">
                    <input type="text" id="hadith-search-hero" placeholder="Search for a Topic or Hadith Number...">
                    <button class="hadith-search-btn"><i class='bx bx-search'></i></button>
                </div>
            </div>

            <div class="hadith-3d-asset">
                <img src="images/hadith_hero.png" alt="Premium Hadith Collection Stack"
                    style="max-width: 100%; height: auto; filter: drop-shadow(0 20px 40px rgba(0,0,0,0.6)); transform: scale(1.1);">
            </div>
        </section>

        <div id="hadith-container" style="position:relative; min-height: 500px;">

            <!-- Loading -->
            <div id="hadith-loading" class="hidden"
                style="position:absolute; inset:0; background:rgba(255,255,255,0.8); display:flex; justify-content:center; align-items:center; z-index:50;">
                <div class="loading-spinner"
                    style="border: 4px solid var(--bg-soft); border-top: 4px solid var(--primary-emerald); border-radius: 50%; width: 40px; height: 40px; animation: spin 1s linear infinite;">
                </div>
            </div>

            <!-- 1. Books View -->
            <div id="hadith-books-view" class="surah-grid">
                <!-- Injected by hadith.js using similar classes to surah cards -->
            </div>

            <!-- 2. List View -->
            <div id="hadith-list-view" class="hidden detail-view">
                <!-- Rich Header Navigation -->
                <div class="glass-header"
                    style="display:flex; justify-content:space-between; align-items:center; margin-bottom: 2rem; padding: 1rem; border-radius: 16px; background: rgba(255,255,255,0.8); border: 1px solid rgba(0,0,0,0.05);">
                    <button id="back-to-books" class="action-chip"
                        style="border:none; cursor:pointer; background:white; box-shadow:var(--shadow-sm); padding:0.6rem 1.2rem; display:flex; gap:0.5rem; align-items:center;">
                        <i class='bx bx-arrow-back'></i>
                        <span style="font-weight:600; color:var(--text-navy);">Books</span>
                    </button>

                    <div style="text-align:right;">
                        <h2 id="list-book-title"
                            style="margin:0; font-size:1.2rem; color:var(--text-navy); font-family:var(--font-display);">
                        </h2>
                        <span id="list-hadith-count"
                            style="font-size:0.85rem; color:var(--primary-emerald); font-weight:600; background:var(--primary-soft); padding:0.2rem 0.6rem; border-radius:20px;"></span>
                    </div>
                </div>

                <div id="hadith-list-container">
                    <!-- Items injected here -->
                </div>
            </div>

            <!-- 3. Detail View -->
            <div id="hadith-detail-view" class="hidden detail-view">
                <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom: 2rem;">
                    <button id="back-to-hadith-list" class="back-btn"><i class='bx bx-arrow-back'></i> Back to
                        List</button>
                    <div style="display:flex; align-items:center; gap:1rem;">
                        <span id="detail-book-name" style="color: var(--text-slate); font-weight: 600;"></span>
                        <button id="hadith-tafsir-btn" onclick="hadithManager.openTafsir()"
                            style="background:var(--primary-soft); color:var(--primary-emerald); border:none; padding:0.4rem 0.8rem; border-radius:12px; font-weight:700; cursor:pointer; font-size:0.8rem; display:flex; align-items:center; gap:0.4rem;">
                            <i class='bx bxs-book-content'></i> Tafsir
                        </button>
                    </div>
                </div>

                <div id="hadith-content-container">
                    <!-- Detail injected here -->
                    <div id="hadith-loading" class="hidden">
                        <div class="spinner"></div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <style>
        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }
    </style>

    <!-- Scripts -->
    <script src="auth.js"></script>
    <script src="tafsir_data.js"></script>
    <script src="hadith.js"></script>
</body>

</html>