/* ==================================================
   COMPREHENSIVE MOBILE FIX - Android Optimization
   ================================================== */

/* Force viewport to behave properly */
html {
  -webkit-text-size-adjust: 100%;
  -ms-text-size-adjust: 100%;
}

/* Mobile devices - force full width */
@media only screen and (max-width: 768px) {
  /* Reset everything to full width */
  html {
    width: 100% !important;
    max-width: 100% !important;
    overflow-x: hidden !important;
  }
  
  body {
    width: 100% !important;
    max-width: 100% !important;
    min-width: 100% !important;
    overflow-x: hidden !important;
    margin: 0 !important;
    padding: 0 !important;
  }
  
  /* All containers must be full width */
  .portal-container,
  .container,
  .main-content,
  main,
  section,
  header,
  footer,
  nav,
  .portal-nav,
  .nav-flex {
    width: 100% !important;
    max-width: 100% !important;
    min-width: 100% !important;
    box-sizing: border-box !important;
    margin-left: 0 !important;
    margin-right: 0 !important;
  }
  
  /* Specific padding adjustments */
  .portal-container {
    padding-left: 1rem !important;
    padding-right: 1rem !important;
  }
  
  /* Prevent any element from being wider than viewport */
  * {
    max-width: 100% !important;
    box-sizing: border-box !important;
  }
  
  /* Images responsive */
  img {
    max-width: 100% !important;
    height: auto !important;
  }
  
  /* Tables responsive */
  table {
    max-width: 100% !important;
    overflow-x: auto !important;
    display: block !important;
  }
}

/* Extra small screens (phones) */
@media only screen and (max-width: 480px) {
  html, body {
    width: 100vw !important;
    max-width: 100vw !important;
    overflow-x: hidden !important;
  }
  
  .portal-container,
  .container {
    padding-left: 0.75rem !important;
    padding-right: 0.75rem !important;
  }
  
  /* Hide search on very small screens if needed */
  .global-search-wrapper {
    max-width: 180px !important;
  }
  
  #global-search-input {
    width: 180px !important;
    font-size: 0.85rem !important;
  }
}
